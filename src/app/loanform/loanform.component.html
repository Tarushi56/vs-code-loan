 <div class="alert alert-success" *ngIf='message'>{{ message }}</div>
<div class="container-fluid col-md-4  mt-4"> 
  <form #loanform="ngForm" (ngSubmit)='postForm(loanform)'novalidate >
    <div class="card text-center">
      <div class="card-header">
       <h3><i>Loan Registration Form</i></h3>
      </div>
      <div class="card-body">
        <!-- <div class="form-group"> 
          <label>Loan Id</label>
          <input required #id="ngModel" ngModel pattern="[0-9]{5}" name="loanId" type="hidden" class="form-control"
           placeholder="Enter your Id" [class.is-invalid]="id.invalid && id.touched"> 
           <div *ngIf="id.invalid && id.touched"> 
             <small class="text-danger" *ngIf="id.errors?.required">this field is required</small>
             <small class="text-danger" *ngIf="id.errors?.pattern">should be of 5 digits</small>
           </div>
        </div> -->
        <div class="form-group"> 
          <label>FullName</label>
          <input required #name="ngModel" ngModel pattern="[a-z A-Z]*" name="fullName" type="text" class="form-control"
             placeholder="Enter FullName" [class.is-invalid]="name.invalid && name.touched"> 
             <div *ngIf="name.invalid && name.touched"> 
                <small class="text-danger" *ngIf="name.errors?.required">this field is required</small>
                <small class="text-danger" *ngIf="name.errors?.pattern">minimum 3 characters</small>
             </div>
        </div>
        <div class="form-group">
          <label>Email:</label><br>
          <input type="text" name="email" id="email" placeholder="Enter Email" class="form-control"ngModel
           required minlength="10" email [class.is-invalid]="email.invalid && email.touched" #email='ngModel' >
          <div *ngIf='email.invalid && email.touched'>
            <small class="text-danger" *ngIf='email.errors?.required'>this feild is required</small>
            <small class="text-danger" *ngIf='email.errors?.minlength'>minimum 10 characters</small>
            <small class="text-danger" *ngIf='email.errors?.email && !(email.errors?.minlength)'>invalid email!!</small>
          </div> 
      </div>
        <div class="form-group"> 
          <label>Password</label>
          <input required #password="ngModel"  pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$" ngModel name="password"
          type="password" class="form-control"
           placeholder="Enter Password" [class.is-invalid]="password.invalid && password.touched">
           <div *ngIf="password.invalid && password.touched"> 
             <small *ngIf="password.errors?.required" class="text-danger">this field is required</small>
             <small *ngIf="password.errors?.pattern" class="text-danger">should have atleast one uppercase,one lowercase, one digit and special character</small>
           </div>
        </div>
        <div class="form-group"> 
          <label>Age</label>
          <input required #age="ngModel" ngModel name="age" pattern="[0-9]{2}" type="text" class="form-control"
             placeholder="Enter Age" [class.is-invalid]="age.invalid && age.touched">
             <div *ngIf="age.invalid && age.touched"> 
               <small *ngIf="age.errors?.required" class="text-danger">this field is required</small>
               <small *ngIf="age.errors?.pattern" class="text-danger">in digits</small>
             </div>
        </div>
        <div class="form-group"> 
          <label>Phone</label>
          <input type="tel" #phone="ngModel" pattern="^\d{10}$" required name="mobileNumber" ngModel
           [class.is-invalid]="phone.invalid && phone.touched" class="form-control" placeholder="Enter Phone">  
            <div *ngIf="phone.invalid && phone.touched"> 
              <small class="text-danger" *ngIf="phone.errors.required">Phone number is req</small>
              <small class="text-danger" *ngIf="phone.errors.pattern">Phone number must be 10 digit</small>
            </div>                
        </div>
        <div class="form-group"> 
          <label>PAN Number</label>
          <input type="text" required #pan="ngModel" name="panNumber" ngModel pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}" class="form-control"
           placeholder="Enter PAN number" [class.is-invalid]="pan.invalid && pan.touched"> 
           <div *ngIf="pan.invalid && pan.touched"> 
             <small *ngIf="pan.errors?.pattern">pattern wrong</small>
             <small *ngIf="pan.errors?.required">this field is required</small>
           </div>
        </div>
        <div class="form-group">
          <label>Loan Type</label>
          <select class="custom-select" name="loanType" id="type" ngModel #type="ngModel"
           [class.is-invalid]="type.invalid && type.touched" required>
            <option value="Construction">Construction Loan</option>
            <option value="Purchase">Purchase Loan</option>
            <option value="plot">Plot Loan</option>
          </select>
          <small class="text-danger" [class.d-none]="type.valid || type.untouched">Please choose type</small>
        </div>
        <div class="form-group"> 
          <label>Gender</label> 
          <select class="custom-select" name="gender" id="gender" ngModel #gender="ngModel"
          [class.is-invalid]="gender.invalid && gender.touched" required> 
              <option value="male">Male</option>
              <option value="female">Female</option>
          </select>
          <small class="text-danger"[class.d-none]="gender.valid || gender.untouched">Please Choose gender</small>
        </div>
        <div class="form-group"> 
          <label>Address</label>
          <input required #address="ngModel" name="address" ngModel maxlength="50" type="text" class="form-control" 
            placeholder="Enter Address" [class.is-invalid]="address.invalid && address.touched"> 
            <div *ngIf="address.invalid && address.touched"> 
                <small *ngIf="address.errors?.required" class="text-danger">this field is required</small>
                <small *ngIf="address.errors?.maxlength" class="text-danger">max upto 50 characters</small>
            </div>
        </div>

        <div class="form-group"> 
          <label>Loan Amount</label>
          <input required #amount="ngModel" name="loanAmount" ngModel pattern="[0-9]{4,}" type="text" class="form-control"
            placeholder="Enter Amount" [class.is-invalid]="amount.invalid && amount.touched">
            <div *ngIf="amount.invalid && amount.touched"> 
              <small *ngIf="amount.errors?.required" class="text-danger">this field is required</small>
              <small *ngIf="amount.errors?.pattern" class="text-danger">should be more than 999</small>
            </div>
        </div>
        <div class="form-group"> 
          <label>Salary</label>
          <input required #salary="ngModel" name="salary" ngModel pattern="[0-9]{4,}" type="text" class="form-control" 
            placeholder="Enter Salary" [class.is-invalid]="salary.invalid && salary.touched">
            <div *ngIf="salary.invalid && salary.touched"> 
              <small *ngIf="salary.errors?.required" class="text-danger">this field is required</small>
              <small *ngIf="salary.errors?.pattern" class="text-danger">in digits</small>
            </div>
        </div>
        <div class="form-group"> 
          <input type="Hidden" #status="ngModel" name="applicationStatus" [(ngModel)]="defaultApplicationStatus">
        </div>
        <div class="form-group"> 
          <input type="Hidden" #role="ngModel" required name="role"[(ngModel)]="defaultValue" 
           >
            <!-- <div *ngIf="role.invalid && role.touched"> 
              <small *ngIf="role.errors?.required">this feild is required</small>
              <small *ngIf="role.errors?.pattern">It should be in format(ROLE_XXXX)</small>
            </div>  -->
        </div>
      </div>
      <div class="card-footer text-muted">
        <button class="btn btn-warning" style="box-sizing: unset;" type="submit" [disabled]="loanform.invalid" >Register</button>
      </div>
    </div>
  </form>

</div>
