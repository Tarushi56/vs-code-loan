<div class="alert alert-success" *ngIf='message'>{{message}}</div>
<div class="container-fluid col-md-4  mt-4"> 
  <form #addClientForm="ngForm" (ngSubmit)='postClient(addClientForm)' novalidate> 
    <div class="card text-center">
      <div class="card-header">
        <h3><i>Add Clients</i></h3>
      </div>
      <div class="card-body">
        <div class="form-group">
          <label>Fullname:</label>
          <input type="text" name="fullName" id="name" pattern="[a-z A-Z]*" minlength="3" [class.is-invalid]="name.invalid && name.touched"  placeholder="Enter Name" 
          class="form-control" required #name='ngModel' ngModel>
          <div *ngIf='name.invalid && name.touched'>
            <small class="text-danger" *ngIf='name.errors.required'>this feild is required</small>
            <small class="text-danger" *ngIf='name.errors.pattern'>no numbers in name</small>
            <small class="text-danger" *ngIf='name.errors.minlength'>minimum 3 characters</small>
          </div> 
      </div>
      <div class="form-group">
        <label>Email:</label><br>
        <input type="text" name="email" id="email" placeholder="Enter Email" class="form-control"ngModel
         required minlength="10" email [class.is-invalid]="email.invalid && email.touched" #email='ngModel' >
        <div *ngIf='email.invalid && email.touched'>
          <small class="text-danger" *ngIf='email.errors?.required'>this feild is required</small>
          <small class="text-danger" *ngIf='email.errors?.minlength'>minimum 10 characters</small>
          <small class="text-danger" *ngIf='email.errors?.email && !(email.errors?.minlength)'>invalid email!!</small>
        </div> 
    </div>
    <div class="form-group"> 
      <label>Password</label>
      <input required #password="ngModel"  pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$" ngModel name="password"
      type="password" class="form-control"
       placeholder="Enter Password" [class.is-invalid]="password.invalid && password.touched">
       <div *ngIf="password.invalid && password.touched"> 
         <small *ngIf="password.errors?.required" class="text-danger">this field is required</small>
         <small *ngIf="password.errors?.pattern" class="text-danger">should have atleast one uppercase,one lowercase, one digit and special character</small>
       </div>
    </div>
      <div class="form-group"> 
        <label>Phone</label>
        <input type="tel" #phone="ngModel" pattern="^\d{10}$" required name="phone" ngModel
         [class.is-invalid]="phone.invalid && phone.touched" class="form-control" placeholder="Enter Phone">  
          <div *ngIf="phone.invalid && phone.touched"> 
            <small class="text-danger" *ngIf="phone.errors.required">Phone number is req</small>
            <small class="text-danger" *ngIf="phone.errors.pattern">Phone number must be 10 digit</small>
          </div>                
      </div>
      <div class="form-group">
        <label>Select Role</label>
        <select required #role="ngModel" ngModel class="custom-select" name="role" id="role"
         [class.is-invalid]="role.invalid && role.touched">
          <option value="Admin">Admin</option>
          <option value="User">User</option>
        </select>
        <small class="text-danger"[class.d-none]="role.valid || role.untouched" >Choose a role</small>
      </div>
      </div>
      <div class="card-footer text-muted">
        <button class="btn btn-warning" style="box-sizing: unset;" type="submit" [disabled]="addClientForm.invalid">Add</button>
      </div>
    </div>
  </form>
</div>